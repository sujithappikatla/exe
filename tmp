// WhiteboardViewModel.kt (updated)
package com.example.whiteboardapp

import androidx.compose.ui.geometry.Offset
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.graphics.Path
import androidx.lifecycle.ViewModel
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow

class WhiteboardViewModel : ViewModel() {
    // ... (previous code remains the same)

    private val _scale = MutableStateFlow(1f)
    val scale = _scale.asStateFlow()

    private val _offset = MutableStateFlow(Offset.Zero)
    val offset = _offset.asStateFlow()

    fun updateScale(newScale: Float) {
        _scale.value = newScale.coerceIn(0.5f, 5f)
    }

    fun updateOffset(newOffset: Offset) {
        _offset.value = newOffset
    }

    // ... (rest of the code remains the same)
}